local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local PetsService = require(ReplicatedStorage.Modules.PetServices.PetsService)

if workspace:FindFirstChild("PetsPhysical") then
    for _, petMover in pairs(workspace.PetsPhysical:GetChildren()) do
        if petMover:GetAttribute("OWNER") == Players.LocalPlayer.Name then
            for _, pet in ipairs(petMover:GetChildren()) do
                PetsService:UnequipPet(pet.Name)
            end
        end
    end
end

task.wait(0.5)
for _, tool in pairs(Players.LocalPlayer.Backpack:GetChildren()) do
    if tool:IsA("Tool") and tool:GetAttribute("ItemType") == "Pet" then
        ReplicatedStorage.GameEvents.Favorite_Item:FireServer(tool)
    end
end
